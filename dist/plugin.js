!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=62)}({1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={generalSettings:"generalSettings",export:"export",sendSettings:"sendSettings",urlExport:"urlExport",help:"help",demo:"demo",reset:"reset",saveSettings:"saveSettings",closePlugin:"closePlugin"}},3:function(e,t,n){"use strict";t.a=(e,t=2)=>{if(void 0===e)return;if("number"!=typeof e||"number"!=typeof t)throw new Error(`Invalid parameters, both value "${e}" (${typeof e}) and decimalPlaces "${t}" (${typeof t}) must be of type number`);const n=Math.pow(10,t);return Math.round(e*n)/n}},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={color:{label:"Colors",key:"color"},gradient:{label:"Gradients",key:"gradient"},font:{label:"Fonts",key:"font"},effect:{label:"Effects",key:"effect"},grid:{label:"Grids",key:"grid"},border:{label:"Borders",key:"border"},breakpoint:{label:"Breakpoints",key:"breakpoint"},radius:{label:"Radii",key:"radius"},size:{label:"Sizes",key:"size"},spacing:{label:"Spacing",key:"spacing"},motion:{label:"Motion",key:"motion"}}},5:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(3);const a=(e,t)=>({r:Object(i.a)(255*e.r,0),g:Object(i.a)(255*e.g,0),b:Object(i.a)(255*e.b,0),a:Object(i.a)(t||e.a||1)}),r=e=>"SOLID"===e.type&&!0===e.visible?a(e.color,e.opacity||null):null,o=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=(e,t=!0)=>!0===t?JSON.stringify(e):JSON.stringify(e,null,2)},62:function(e,t,n){"use strict";n.r(t);var i=n(7),a={ui:{generalSettings:{width:550,height:595},export:{width:550,height:420},urlExport:{width:550,height:595}},key:{lastVersionSettingsOpened:"lastVersionSettingsOpened",fileId:"fileId",settings:"settings"},excludePrefix:["_","."]},r=n(6);var o=function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((i=i.apply(e,t||[])).next())}))};var s=n(1);var u=function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((i=i.apply(e,t||[])).next())}))};var l=e=>u(void 0,void 0,void 0,(function*(){const t=yield e.clientStorage.getAsync(a.key.lastVersionSettingsOpened),n=((e,t="1.0.0")=>{const[n,i,a]=t.split("."),[r,o,s]=e.split(".");return n<r?"major":i<o?"minor":a<s?"patch":void 0})("5.0.0",t);return t&&"5.0.0"===t||(yield e.clientStorage.setAsync(a.key.lastVersionSettingsOpened,"5.0.0")),n}));var c=e=>{let t=e.root.getPluginData(a.key.fileId);return void 0!==t&&""!==t||(e.root.setPluginData(a.key.fileId,e.root.name+" "+Math.floor(1e9*Math.random())),t=e.root.getPluginData(a.key.fileId)),t},p=n(4),d=n(5),g=n(3);const m={GRADIENT_LINEAR:"linear",GRADIENT_RADIAL:"radial",GRADIENT_ANGULAR:"angular",GRADIENT_DIAMOND:"diamond"},y=e=>["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"].includes(e.type);var f=(e,t)=>e.map(e=>(e.paints=e.paints.filter(e=>"IMAGE"!==e.type),e)).filter(e=>e.paints.length>0).map(e=>({name:`${y(e.paints[0])?t.gradient[0]:t.color[0]}/${e.name}`,category:y(e.paints[0])?"gradient":"color",exportKey:y(e.paints[0])?p.a.gradient.key:p.a.color.key,description:e.description||null,values:e.paints.map(e=>(e=>"SOLID"===e.type?{fill:{value:Object(d.a)(e),type:"color"}}:["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"].includes(e.type)?{gradientType:{value:m[e.type],type:"string"},stops:e.gradientStops.map(e=>({position:{value:Object(g.a)(e.position),type:"number"},color:{value:Object(d.c)(e.color),type:"color"}})),opacity:{value:Object(g.a)(e.opacity),type:"number"}}:null)(e))}));var b=(e,t)=>e.filter(e=>e.layoutGrids.length>0).map(e=>({name:`${t[0]}/${e.name}`,category:"grid",exportKey:p.a.grid.key,description:e.description||null,values:e.layoutGrids.map(e=>"GRID"===e.pattern?(e=>({pattern:{value:e.pattern.toLowerCase(),type:"string"},sectionSize:{value:e.sectionSize,unit:"pixel",type:"number"}}))(e):(e=>{return Object.assign(Object.assign(Object.assign({pattern:{value:e.pattern.toLowerCase(),type:"string"}},void 0!==e.sectionSize&&{sectionSize:{value:e.sectionSize,unit:"pixel",type:"number"}}),{gutterSize:{value:e.gutterSize,unit:"pixel",type:"number"},alignment:{value:e.alignment.toLowerCase(),type:"string"},count:(t=e.count,t===1/0?{value:"auto",type:"string"}:{value:t,type:"number"})}),void 0!==e.offset&&{offset:{value:e.offset,unit:"pixel",type:"number"}});var t})(e))}));const v={NONE:"none",UNDERLINE:"underline",STRIKETHROUGH:"line-through"},h={ORIGINAL:"none",UPPER:"uppercase",LOWER:"lowercase",TITLE:"capitalize"},x={thin:100,extralight:200,ultralight:200,light:300,normal:400,regular:400,medium:500,semibold:600,demibold:600,bold:700,extrabold:800,ultabold:800,black:900,heavy:900,super:900},O={normal:"normal",condensed:"condensed",expanded:"expanded",extended:"expanded"},k={normal:"normal",italic:"italic",oblique:"oblique"},S=e=>{const t=e.toLowerCase().split(" ");let n=t[0];return["extra","ultra","semi","demi"].includes(t[0])&&["bold","light"].includes(t[1])&&(n=`${t[0]}${t[1]}`),x[n]||400},E=e=>{const t=e.toLowerCase().split(" ");return O[t[t.length-1]]||O[t[t.length-2]]||"normal"},R=e=>{const t=e.toLowerCase().split(" ").pop();return k[t]||"normal"};var A=(e,t)=>e.map(e=>({name:`${t[0]}/${e.name}`,category:"font",exportKey:p.a.font.key,description:e.description||void 0,values:{fontSize:{value:e.fontSize,unit:"pixel",type:"number"},textDecoration:{value:v[e.textDecoration],type:"string"},fontFamily:{value:e.fontName.family,type:"string"},fontWeight:{value:S(e.fontName.style),type:"number"},fontStyle:{value:R(e.fontName.style),type:"string"},fontStretch:{value:E(e.fontName.style),type:"string"},_fontStyleOld:{value:e.fontName.style,type:"string"},letterSpacing:{value:Object(g.a)(e.letterSpacing.value),unit:e.letterSpacing.unit.toLowerCase(),type:"number"},lineHeight:{value:Object(g.a)(e.lineHeight.value)||"normal",unit:e.lineHeight.unit.toLowerCase(),type:Object.prototype.hasOwnProperty.call(e.lineHeight,"value")?"number":"string"},paragraphIndent:{value:e.paragraphIndent,unit:"pixel",type:"number"},paragraphSpacing:{value:e.paragraphSpacing,unit:"pixel",type:"number"},textCase:{value:h[e.textCase],type:"string"}}}));const N={LAYER_BLUR:"layerBlur",BACKGROUND_BLUR:"backgroundBlur",DROP_SHADOW:"dropShadow",INNER_SHADOW:"innerShadow"};var C=(e,t)=>e.filter(e=>e.effects.length>0).map(e=>({name:`${t[0]}/${e.name}`,category:"effect",exportKey:p.a.effect.key,description:e.description||null,values:e.effects.map(e=>"LAYER_BLUR"===e.type||"BACKGROUND_BLUR"===e.type?(e=>({type:{value:N[e.type],type:"string"},radius:{value:e.radius,unit:"pixel",type:"number"}}))(e):(e=>({type:{value:N[e.type],type:"string"},radius:{value:e.radius,unit:"pixel",type:"number"},color:{value:Object(d.c)(e.color),type:"color"},offset:{x:{value:e.offset.x,unit:"pixel",type:"number"},y:{value:e.offset.y,unit:"pixel",type:"number"}},spread:{value:e.spread,unit:"pixel",type:"number"}}))(e))}));const I=e=>t=>e.includes(t.name.substr(0,t.name.indexOf("/")).replace(/\s+/g,"")),L=e=>{if(Object.prototype.hasOwnProperty.call(e,"direction"))return{direction:{value:e.direction.toLowerCase(),type:"string"}}},j={CUSTOM_CUBIC_BEZIER:{},LINEAR:{type:"linear",easingFunctionCubicBezier:{x1:0,y1:0,x2:1,y2:1}},EASE_IN:{type:"ease-in",easingFunctionCubicBezier:{x1:.41999998688697815,y1:0,x2:1,y2:1}},EASE_OUT:{type:"ease-out",easingFunctionCubicBezier:{x1:0,y1:0,x2:.5799999833106995,y2:1}},EASE_IN_AND_OUT:{type:"ease-in-out",easingFunctionCubicBezier:{x1:.41999998688697815,y1:0,x2:.5799999833106995,y2:1}},EASE_IN_BACK:{type:"ease-in-back",easingFunctionCubicBezier:{x1:.30000001192092896,y1:-.05000000074505806,x2:.699999988079071,y2:-.5}},EASE_OUT_BACK:{type:"ease-out-back",easingFunctionCubicBezier:{x1:.44999998807907104,y1:1.4500000476837158,x2:.800000011920929,y2:1}},EASE_IN_AND_OUT_BACK:{type:"ease-in-out-back",easingFunctionCubicBezier:{x1:.699999988079071,y1:-.4000000059604645,x2:.4000000059604645,y2:1.399999976158142}}},_=e=>{if("type"in e&&void 0!==j[e.type])return"CUSTOM_CUBIC_BEZIER"===e.type&&(j.CUSTOM_CUBIC_BEZIER={type:"cubic-bezier",easingFunctionCubicBezier:{x1:e.easingFunctionCubicBezier.x1,y1:e.easingFunctionCubicBezier.y1,x2:e.easingFunctionCubicBezier.x2,y2:e.easingFunctionCubicBezier.y2}}),{easing:{value:j[e.type].type,type:"string"},easingFunction:{x1:{value:j[e.type].easingFunctionCubicBezier.x1,type:"number"},x2:{value:j[e.type].easingFunctionCubicBezier.x2,type:"number"},y1:{value:j[e.type].easingFunctionCubicBezier.y1,type:"number"},y2:{value:j[e.type].easingFunctionCubicBezier.y2,type:"number"}}}};var T=(e,t)=>e.filter(I(t)).filter(e=>{var t;return e.reactions.length>0&&"NODE"===(null===(t=e.reactions[0].action)||void 0===t?void 0:t.type)&&null!==e.reactions[0].action.transition}).map(e=>({name:e.name,category:"motion",exportKey:p.a.motion.key,description:e.description||null,values:Object.assign(Object.assign({type:{value:e.reactions[0].action.transition.type.toLocaleLowerCase(),type:"string"},duration:{value:Math.round(1e3*(e.reactions[0].action.transition.duration+Number.EPSILON))/1e3,unit:"s",type:"number"}},_(e.reactions[0].action.transition.easing)),L(e.reactions[0].action.transition))}));var D=(e,t)=>e.filter(I(t)).map(e=>({name:e.name,category:"size",exportKey:p.a.size.key,description:e.description||null,values:{width:{value:Object(g.a)(e.width,2),unit:"pixel",type:"number"},height:{value:Object(g.a)(e.height,2),unit:"pixel",type:"number"}}}));var w=(e,t)=>e.filter(I(t)).map(e=>({name:e.name,category:"spacing",exportKey:p.a.spacing.key,description:e.description||null,values:{top:{value:Object(g.a)(e.paddingTop,2),unit:"pixel",type:"number"},right:{value:Object(g.a)(e.paddingRight,2),unit:"pixel",type:"number"},bottom:{value:Object(g.a)(e.paddingBottom,2),unit:"pixel",type:"number"},left:{value:Object(g.a)(e.paddingLeft,2),unit:"pixel",type:"number"}}}));const P={MITER:"miter",BEVEL:"bevel",ROUND:"round"},z={CENTER:"center",INSIDE:"inside",OUTSIDE:"outside"};var B=(e,t)=>e.filter(I(t)).filter(e=>e.strokes.length>0).map(e=>({name:e.name,category:"border",exportKey:p.a.border.key,description:e.description||null,values:{strokeAlign:{value:z[e.strokeAlign],type:"string"},dashPattern:{value:e.dashPattern.toString(),type:"string"},strokeCap:{value:"string"==typeof e.strokeCap?e.strokeCap.toLowerCase():"mixed",type:"string"},strokeJoin:{value:P[e.strokeJoin],type:"string"},strokeMiterLimit:{value:Object(g.a)(e.strokeMiterLimit),unit:"degree",type:"number"},strokeWeight:{value:e.strokeWeight,unit:"pixel",type:"number"},stroke:{value:e.strokes[0],type:"color"}}}));var M=(e,t)=>{const n=e=>({topLeft:{value:e.topLeftRadius||0,unit:"pixel",type:"number"},topRight:{value:e.topRightRadius||0,unit:"pixel",type:"number"},bottomRight:{value:e.bottomRightRadius||0,unit:"pixel",type:"number"},bottomLeft:{value:e.bottomLeftRadius||0,unit:"pixel",type:"number"}});return e.filter(I(t)).map(e=>{return{name:e.name,category:"radius",exportKey:p.a.radius.key,description:e.description||null,values:Object.assign(Object.assign({},"number"==typeof e.cornerRadius&&{radius:{value:e.cornerRadius,unit:"pixel",type:"number"}}),{radiusType:{value:(t=e.cornerRadius,"number"==typeof t?"single":"mixed"),type:"string"},radii:n(e),smoothing:{value:Object(g.a)(e.cornerSmoothing,2),comment:"Percent as decimal from 0.0 - 1.0",type:"number"}})};var t})};var G=(e,t)=>e.filter(I(t)).map(e=>({name:e.name,category:"breakpoint",exportKey:p.a.breakpoint.key,description:e.description||null,values:{width:{value:Object(g.a)(e.width,2),unit:"pixel",type:"number"}}}));var F=e=>!a.excludePrefix.includes(e.name.trim().substr(0,1));var U=e=>{const t=[];return e.forEach(e=>{t.push({name:e.name,description:e.description,paints:e.paints})}),t};var $=e=>{const t=[];return e.forEach(e=>{t.push({name:e.name,description:e.description,layoutGrids:e.layoutGrids})}),t};var K=e=>{return{name:e.name,description:e.description||void 0,bottomLeftRadius:e.bottomLeftRadius,bottomRightRadius:e.bottomRightRadius,topLeftRadius:e.topLeftRadius,topRightRadius:e.topRightRadius,cornerRadius:e.cornerRadius||void 0,cornerSmoothing:e.cornerSmoothing,strokes:(t=e.strokes,[...t].map(e=>Object(d.a)(e)).filter(e=>null!=e)),strokeWeight:e.strokeWeight,strokeStyleId:e.strokeStyleId,strokeMiterLimit:e.strokeMiterLimit,strokeJoin:e.strokeJoin,strokeCap:e.strokeCap,dashPattern:e.dashPattern,strokeAlign:e.strokeAlign,width:e.width,height:e.height,reactions:e.reactions||void 0,paddingTop:e.paddingTop||0,paddingRight:e.paddingRight||0,paddingBottom:e.paddingBottom||0,paddingLeft:e.paddingLeft||0};var t};const H=["COMPONENT","COMPONENT_SET","RECTANGLE","FRAME"];var J=e=>"COMPONENT_SET"!==e.parent.type&&H.includes(e.type);const W=e=>"FRAME"===e.type&&"_tokens"===e.name.trim().toLowerCase().substr(0,"_tokens".length);var V=e=>[...e.map(e=>e.findChildren(e=>W(e))).reduce((e,t)=>[...e,...t])].map(e=>e.findAll(e=>J(e))).reduce((e,t)=>[...e,...t],[]).map(e=>("RECTANGLE"!==e.type&&"FRAME"!==e.type||console.warn("Please use only main components and variants, other types may be deprecated as tokens in the future"),"COMPONENT_SET"===e.type?e.children.map(t=>{return Object.assign(Object.assign({},K(t)),{name:(n=e.name,i=t.name,`${n}/${i=i.split(",").filter(e=>!["_","."].includes(e.trim().substr(0,1))).map(e=>e.split("=")[1]).join("/")}`)});var n,i}):[K(e)])).reduce((e,t)=>[...e,...t],[]);var Z=e=>{const t=[];return e.forEach(e=>{t.push({name:e.name,description:e.description,fontSize:e.fontSize,textDecoration:e.textDecoration,fontName:e.fontName,letterSpacing:e.letterSpacing,lineHeight:e.lineHeight,paragraphIndent:e.paragraphIndent,paragraphSpacing:e.paragraphSpacing,textCase:e.textCase})}),t};var q=e=>{const t=[];return e.forEach(e=>{t.push({name:e.name,description:e.description,effects:e.effects})}),t};var Y=e=>({tokenFrames:V([...e.root.children]),paintStyles:U(e.getLocalPaintStyles()).filter(F),gridStyles:$(e.getLocalGridStyles()).filter(F),textStyles:Z(e.getLocalTextStyles()).filter(F),effectStyles:q(e.getLocalEffectStyles()).filter(F)});const Q=e=>e.split(",").map(e=>e.replace(/\s+/g,"")),X=(e,t)=>{const n=Y(e);return[...D(n.tokenFrames,Q(t.prefix.size)),...G(n.tokenFrames,Q(t.prefix.breakpoint)),...w(n.tokenFrames,Q(t.prefix.spacing)),...B(n.tokenFrames,Q(t.prefix.border)),...M(n.tokenFrames,Q(t.prefix.radius)),...T(n.tokenFrames,Q(t.prefix.motion)),...f(n.paintStyles,{color:Q(t.prefix.color),gradient:Q(t.prefix.gradient)}),...b(n.gridStyles,Q(t.prefix.grid)),...A(n.textStyles,Q(t.prefix.font)),...C(n.effectStyles,Q(t.prefix.effect))]};var ee=function(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((i=i.apply(e,t||[])).next())}))};figma.showUI(__html__,{visible:!1});const te=(()=>{let e=figma.root.getPluginData(a.key.settings);return""===e?i.a:(e=JSON.parse(e),Object.fromEntries(Object.entries(i.a).map(([t,n])=>void 0!==n&&typeof e[t]!=typeof n?[t,i.a[t]]:[t,e[t]])))})();if([s.a.export,s.a.urlExport,s.a.generalSettings].includes(figma.command)){(()=>ee(void 0,void 0,void 0,(function*(){const e=yield l(figma);var t;figma.ui.resize(a.ui[figma.command].width,a.ui[figma.command].height),void 0!==e&&"patch"!==e&&figma.ui.resize(a.ui[figma.command].width,a.ui[figma.command].height+60),figma.ui.postMessage({command:figma.command,payload:{settings:Object.assign(Object.assign({},te),{accessToken:yield(t=c(figma),o(void 0,void 0,void 0,(function*(){const e=yield figma.clientStorage.getAsync("accessTokens");return void 0!==e&&e instanceof Object&&e[t]||""})))}),data:Object(r.a)(X(figma,te)),versionDifference:e,metadata:{filename:figma.root.name}}}),figma.ui.show()})))()}figma.command===s.a.help&&figma.ui.postMessage({command:s.a.help}),figma.command===s.a.demo&&figma.ui.postMessage({command:s.a.demo}),figma.command===s.a.reset&&(figma.root.setPluginData(a.key.settings,Object(r.a)(i.a)),figma.notify("⚙️ Settings have been reset."),figma.closePlugin()),figma.ui.onmessage=e=>ee(void 0,void 0,void 0,(function*(){const{command:t,payload:n}=e;var u,l,p;t===s.a.closePlugin&&(void 0!==(null==n?void 0:n.notification)&&""!==(null==n?void 0:n.notification)&&figma.notify(n.notification),figma.ui.hide(),figma.closePlugin()),t===s.a.saveSettings&&(p=n.settings,p=Object.assign(Object.assign({},i.a),p),figma.root.setPluginData(a.key.settings,Object(r.a)(p)),yield(u=c(figma),l=n.accessToken,o(void 0,void 0,void 0,(function*(){const e=(yield figma.clientStorage.getAsync("accessTokens"))||{},t=Object.assign(Object.assign({},e),{[u]:l});return yield figma.clientStorage.setAsync("accessTokens",t)}))),n.closePlugin&&!0===n.closePlugin&&figma.closePlugin())}))},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={filename:"design-tokens",extension:".json",nameConversion:"default",compression:!1,urlJsonCompression:!0,serverUrl:void 0,eventType:"update-tokens",accessToken:void 0,acceptHeader:"application/vnd.github.everest-preview+json",authType:"token",keyInName:!1,prefixInName:!0,prefix:{color:"color",gradient:"gradient",font:"font",effect:"effect",grid:"grid",border:"border, borders",breakpoint:"breakpoint, breakpoints",radius:"radius, radii",size:"size, sizes",spacing:"spacing",motion:"motion"},exports:{color:!0,gradient:!0,font:!0,effect:!0,grid:!0,border:!0,breakpoint:!0,radius:!0,size:!0,spacing:!0,motion:!0}}}});